


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>CEP 3 - Cyclus Release Procedure &mdash; Home</title>
    
    <link rel="stylesheet" href="../_static/cyclus.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noticia+Text|Open+Sans|Droid+Sans+Mono" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '(1.0.0-rc4-16-gd48d41b)',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/jquery.cookie.js"></script>
    <script type="text/javascript" src="../_static/cloud.js"></script>
    <link rel="shortcut icon" href="../_static/big_c.ico"/>
    <link rel="top" title="Home" href="../index.html" />
    <link rel="up" title="Cyclus Enhancement Proposals" href="cep0.html" />
    <link rel="next" title="CEP 17 - Resource Tracking and Interfaces Re-Re-Redo" href="cep17.html" />
    <link rel="prev" title="CEP 2 - Separation of Concerns in the Cyclus Ecosystem" href="cep2.html" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1"><script type="text/javascript">
var ga_enabled = !$.cookie('disable-ga');
if(ga_enabled){
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-12222727-2']);
  _gaq.push(['_setCookiePath', '/']);
  _gaq.push(['_setDetectFlash', false]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
}
</script>
  </head>
  <body>
    <div class="relbar-top">
        
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="cep17.html" title="CEP 17 - Resource Tracking and Interfaces Re-Re-Redo"
             accesskey="N">next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="cep2.html" title="CEP 2 - Separation of Concerns in the Cyclus Ecosystem"
             accesskey="P">previous</a> &nbsp; &nbsp;</li>
    <li><a href="../index.html">Home</a> &raquo;</li>

          <li><a href="cep0.html" accesskey="U"><span style="font-variant:small-caps;">Cyclus</span> Enhancement Proposals</a> &raquo;</li> 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="cep-3-cyclus-release-procedure">
<h1>CEP 3 - <span style="font-variant:small-caps;">Cyclus</span> Release Procedure<a class="headerlink" href="#cep-3-cyclus-release-procedure" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">CEP:</th><td class="field-body">3</td>
</tr>
<tr class="field-even field"><th class="field-name">Title:</th><td class="field-body"><span style="font-variant:small-caps;">Cyclus</span> Release Procedure</td>
</tr>
<tr class="field-odd field"><th class="field-name">Last-Modified:</th><td class="field-body">2014-02-24</td>
</tr>
<tr class="field-even field"><th class="field-name">Author:</th><td class="field-body">Anthony Scopatz</td>
</tr>
<tr class="field-odd field"><th class="field-name">Status:</th><td class="field-body">Accepted</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Process</td>
</tr>
<tr class="field-odd field"><th class="field-name">Created:</th><td class="field-body">2013-10-25</td>
</tr>
</tbody>
</table>
<div class="section" id="abstract">
<h2>Abstract<a class="headerlink" href="#abstract" title="Permalink to this headline">¶</a></h2>
<p>The purpose of this document is to act as a guideline and checklist for how
to release the <span style="font-variant:small-caps;">Cyclus</span> core code base and the supported projects in the ecosystem.</p>
</div>
<div class="section" id="the-cyclus-ecosystem">
<h2>The <span style="font-variant:small-caps;">Cyclus</span> Ecosystem<a class="headerlink" href="#the-cyclus-ecosystem" title="Permalink to this headline">¶</a></h2>
<p>The very first thing to do when preparing for an upcoming release is to elect
a release manager.  This person has the special responsibility of making sure
all of the following tasks are implemented.  Therefore, their judgment for the
placement of issues and code stability must be adhered to.</p>
<p>The <span style="font-variant:small-caps;">Cyclus</span> ecosystem has a few projects which are all released together.
(This may change in the future a development diverges and the core becomes more
stable.)  The projects that are under the release manager&#8217;s purview are:</p>
<ul class="simple">
<li><a class="reference external" href="https://github.com/cyclus/cyclus">Cyclus</a></li>
<li><a class="reference external" href="https://github.com/cyclus/cycamore">Cycamore</a></li>
<li><a class="reference external" href="https://github.com/cyclus/cycstub">Cycstub</a> - copy the files from <span style="font-variant:small-caps;">Cyclus</span> core&#8217;s <tt class="docutils literal"><span class="pre">stub/</span></tt> dir into the
cycstub&#8217;s <tt class="docutils literal"><span class="pre">src/</span></tt> dir.</li>
</ul>
<p>The projects which are not yet under the release managers purview are:</p>
<ul class="simple">
<li><a class="reference external" href="https://github.com/cyclus/cyclist2">Cyclist</a></li>
<li><a class="reference external" href="https://github.com/cyclus/ciclus">CIclus</a></li>
</ul>
</div>
<div class="section" id="release-candidates-branches">
<h2>Release Candidates &amp; Branches<a class="headerlink" href="#release-candidates-branches" title="Permalink to this headline">¶</a></h2>
<p>All projects should have a release candidate (&#8216;-rc1&#8217;) that comes out 2 - 5 days
prior to the scheduled release.  During this time, no changes should occur to
a special release branch (&#8216;vX.X.X-release&#8217;).</p>
<p>The release branch is there so that development can continue on the
develop branch while the release candidates (rc) are out and under review.
This is because otherwise any new developments would have to wait until
post-release to be merged into develop to prevent them from accidentally
getting released early.</p>
<p>As such, the &#8216;vX.X.X-release&#8217; branch should only exist while there are
release candidates out.  They are akin to a temporary second level of staging
to be used to keep master clean and safe.  As such, everything that is in this
branch should also be part of develop.  Graphically,</p>
<div class="figure align-center">
<img src="../_images/cep-0003-1.svg" /><p class="caption"><strong>Figure 1:</strong> Branch hierarchy under release.</p>
</div>
<p>Every time a new release candidate comes out the vX.X.X-release should be
tagged with the name &#8216;X.X.X-rcX&#8217;.  There should be a 2 - 5 day period of time
in between release candidates.  When the full and final release happens, the
&#8216;vX.X.X-release&#8217; branch is merged into master and then deleted.</p>
<p>If you have a new fix that needs to be in the next release candidate, you should
make a topical branch and then pull request it into the release branch.  After this
has been accepted, the topical branch should be merged with develop as well.</p>
<p>The release branch must be quiet and untouched for 2 - 5 days prior to the full
release.</p>
</div>
<div class="section" id="project-checklist">
<h2>Project Checklist<a class="headerlink" href="#project-checklist" title="Permalink to this headline">¶</a></h2>
<p>When releasing a <span style="font-variant:small-caps;">Cyclus</span> project, make sure to do the following items in order:</p>
<ol class="arabic simple">
<li>Review <strong>ALL</strong> issues in the issue tracker, reassigning or closing them as needed.</li>
<li>Ensure that all issues in this release&#8217;s milestone have been closed.  Moving issues
to the next release&#8217;s milestone is a perfectly valid strategy for completing this
milestone.</li>
<li>Perform maintainence tasks for this project, see below.</li>
<li>Write and commit the release notes.</li>
<li>Review the current state of documentation and make approriate updates.</li>
<li>Bump the version (in code, documentation, etc.) and commit the change.</li>
<li>If this is a release candidate, tag the release branch with a name that matches
that of the release:<ul>
<li>If this is the first release candidate, create a release branch called
&#8216;vX.X.X-release&#8217; off of develop.  Tag this branch with the name &#8216;X.X.X-rc1&#8217;.</li>
<li>If this is the second or later release candidate, tag the release branch
with the name &#8216;X.X.X-rcX&#8217;.</li>
</ul>
</li>
<li>If this is the full and final release (and not a release candidate),
merge the release branch into the master branch.  Next, tag the master branch
with the name &#8216;X.X.X&#8217;.  Finally, delete the release branch.</li>
<li>Push the tags upstream</li>
<li>Update release information on the website.</li>
</ol>
</div>
<div class="section" id="maintainence-tasks">
<h2>Maintainence Tasks<a class="headerlink" href="#maintainence-tasks" title="Permalink to this headline">¶</a></h2>
<p>Each project may have associate maintenance tasks which may need to be performed at
least as often as every micro release.</p>
<div class="section" id="cyclus">
<h3><span style="font-variant:small-caps;">Cyclus</span><a class="headerlink" href="#cyclus" title="Permalink to this headline">¶</a></h3>
<p><strong>Update Pyne:</strong>  PyNE source code is included and shipped as part of <span style="font-variant:small-caps;">Cyclus</span>. As pyne
evolves, we&#8217;ll want to have our version evolve as well. Here are the steps to do so.
These assume that in your HOME dir there are both the pyne and <span style="font-variant:small-caps;">Cyclus</span> repos.  Remember
to check in the changes afterwards.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span><span class="nb">cd</span> ~/pyne
<span class="nv">$ </span>./amalgamate.py -s pyne.cc -i pyne.h -f license.txt cpp/pyne.* cpp/extra_types.h  <span class="se">\</span>
  cpp/h5wrap.h cpp/state_map.cpp cpp/nucname.* cpp/rxname.* cpp/data.* cpp/jsoncpp.cpp <span class="se">\</span>
  cpp/json/*
<span class="nv">$ </span>cp pyne.* ~/cyclus/src
</pre></div>
</div>
<p><strong>Update Nuclear Data:</strong> PyNE also provides a nuclear data library generator which we use for
our source data.  Occassionally, this needs to be updated as updates to pyne itself come out.
The command for generating <span style="font-variant:small-caps;">Cyclus</span> specific nuclear data is as follows:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span><span class="nb">cd</span> ~/pyne
<span class="nv">$ </span>nuc_data_make -o cyclus_nuc_data.h5 <span class="se">\</span>
 -m atomic_mass,scattering_lengths,decay,simple_xs,materials,eaf,wimsd_fpy,nds_fpy
</pre></div>
</div>
<p>Once the file is generated it must be put onto rackspace.</p>
<p><strong>Update Gtest:</strong> We include a copy of the fused Gtest source code within our
source tree located in the <tt class="docutils literal"><span class="pre">tests/GoogleTest</span></tt> directory.  To keep up with
Gtest&#8217;s natural evolution cycle, please download the latest release of Google Tests
and follow <a class="reference external" href="https://code.google.com/p/googletest/wiki/V1_6_AdvancedGuide#Fusing_Google_Test_Source_Files">the fused source directions here</a>.  If we go too long without doing this,
it could be very painful to update.</p>
</div>
<div class="section" id="cycstub">
<h3>Cycstub<a class="headerlink" href="#cycstub" title="Permalink to this headline">¶</a></h3>
<p>Every release the relevant files from <span style="font-variant:small-caps;">Cyclus</span> should be copied over to cyclus.
Use the following BASH commands to do so:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>cp ~/cyclus/tests/input/stub_example.xml ~/cycstub/input/example.xml <span class="o">&amp;&amp;</span> <span class="se">\</span>
  cp ~/cyclus/stubs/stub_* ~/cycstub/src/
</pre></div>
</div>
</div>
</div>
<div class="section" id="document-history">
<h2>Document History<a class="headerlink" href="#document-history" title="Permalink to this headline">¶</a></h2>
<p>This document is released under the CC-BY 3.0 license.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
        <p class="logo"><a href="../index.html" title="index">
          <img class="logo" src="../_static/big_c.png" alt="Logo"/>
        </a></p><div class="sphinxlocaltoc">
    <h3><a href="../index.html">Page contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">CEP 3 - <span style="font-variant:small-caps;">Cyclus</span> Release Procedure</a><ul>
<li><a class="reference internal" href="#abstract">Abstract</a></li>
<li><a class="reference internal" href="#the-cyclus-ecosystem">The <span style="font-variant:small-caps;">Cyclus</span> Ecosystem</a></li>
<li><a class="reference internal" href="#release-candidates-branches">Release Candidates &amp; Branches</a></li>
<li><a class="reference internal" href="#project-checklist">Project Checklist</a></li>
<li><a class="reference internal" href="#maintainence-tasks">Maintainence Tasks</a><ul>
<li><a class="reference internal" href="#cyclus"><span style="font-variant:small-caps;">Cyclus</span></a></li>
<li><a class="reference internal" href="#cycstub">Cycstub</a></li>
</ul>
</li>
<li><a class="reference internal" href="#document-history">Document History</a></li>
</ul>
</li>
</ul>

  </div>
  <div class="sphinxprev">
    <h4>Previous page</h4>
    <p class="topless"><a href="cep2.html"
                          title="Previous page">&larr; CEP 2 - Separation of Concerns in the <span style="font-variant:small-caps;">Cyclus</span> Ecosystem</a></p>
  </div>
  <div class="sphinxnext">
    <h4>Next page</h4>
    <p class="topless"><a href="cep17.html"
                          title="Next page">&rarr; CEP 17 - Resource Tracking and Interfaces Re-Re-Redo</a></p>
  </div>
  <div class="sphinxlocaltoc">
  <h3>Useful Pages</h3>
    <ul><li><ul>
    <li><a href="http://fuelcycle.org/user/main.html">User Guide</a></li>
    <li><a href="http://fuelcycle.org/module/main.html">Archetype Developer Guide</a></li>
    <li><a href="http://fuelcycle.org/cyclus/api/">Cyclus API Documentation</a></li>
    <li><a href="http://fuelcycle.org/cycamore/api/">Cycamore API Documentation</a></li>
    <li><a href="http://fuelcycle.org/basics/glossary.html">Glossary</a></li>
    <li><a href="mailto:cyclus-users+subscribe@googlegroups.com?subject=Subscribe&body=Send this message to subscribe to the list">Join</a> the 
      <a href="https://groups.google.com/forum/#!forum/cyclus-users" target="_blank"><span style="font-variant:small-caps">Cyclus</span> Users</a> mailing list.
    <li><a href="mailto:cyclus-dev+subscribe@googlegroups.com?subject=Subscribe&body=Send this message to subscribe to the list">Join</a> the 
      <a href="https://groups.google.com/forum/#!forum/cyclus-users" target="_blank"><span style="font-variant:small-caps">Cyclus</span> Developers</a> mailing list.
    </ul></li></ul>
  </div>
    
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
    <h3>Get Cyclus</h3>
    <br>
    Current version: <b>1.0.0</b>
    <br><br>
    Install:
    <div class="highlight-bash" style="width:97.5%"><div class="highlight"><pre><span class="nv">$ </span>conda install cyclus cycamore</pre></div></div>
    Get the Source:
    <ul><li><ul>
          <li><a href="https://github.com/cyclus/cyclus">Cyclus</a></li>
          <li><a href="https://github.com/cyclus/cycamore">Cycamore</a></li>
    </ul></li></ul>
    <h3>Acknowledgements</h3>
    The Cyclus project has received support from:
    <br />
    <a href="http://www.neup.gov" target="_blank"><img src="../_static/neup_logo_large.png" width=170px></a>
    <br />
    <br />

    In addition, some of the students working on Cyclus have received support from:
    <br />
    <a href="http://www.anl.gov" target="_blank"><img src="../_static/AnlLogo.png" height=100px></a>
    <a href="http://www.nrc.gov" target="_blank"><img src="../_static/USNRC.png" height=100px></a>
    <br />
    <a href="http://www.neup.gov" target="_blank"><img src="../_static/neup_logo_large.png" width=170px></a>
    <br />
    <a href="http://www.nsf.gov" target="_blank"><img src="../_static/nsf_logo.png" height=100px></a>
    <a href="http://www.wisc.edu" target="_blank"><img src="../_static/crest.png" height=100px></a>

    

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="cep17.html" title="CEP 17 - Resource Tracking and Interfaces Re-Re-Redo"
             >next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="cep2.html" title="CEP 2 - Separation of Concerns in the Cyclus Ecosystem"
             >previous</a> &nbsp; &nbsp;</li>
    <li><a href="../index.html">Home</a> &raquo;</li>

          <li><a href="cep0.html" ><span style="font-variant:small-caps;">Cyclus</span> Enhancement Proposals</a> &raquo;</li> 
      </ul>
    </div>
    </div>

    <div class="footer">
        &copy; Copyright 2012-2014, University of Wisconsin Computational Nuclear Engineering Research Group.
      Last updated on Jun 03, 2014.
    </div><script type="text/javascript">
    if(ga_enabled){
        document.write("<div class=\"footer\">This page uses <a href=\"http://analytics.google.com\">Google Analytics</a> to collect statistics. ");
        document.write("Click <button title=\"set cookie to disable analytics for this site\" class=\"link\" onclick=\"$.cookie('disable-ga', 'true', {expires: 3650, path: '/'}); window.location.reload(); return false; \">here</button> to disable analytics for this site.");
        document.write("</div>");
    }else{
        document.write("<div class=\"footer\">Google Analytics has been disabled. ");
        document.write("Click <button title=\"set cookie to re-enable analytics for this site\" class=\"link\" onclick=\"$.cookie('disable-ga', null, {path: '/'}); window.location.reload(); return false; \">here</button> to re-enable analytics for this site.");
    };
</script>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>